<div class="contenedor-registro">

    <div *ngIf="this.subiendoDatos" class="spinner-overlay">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">-</span>
        </div>
    </div>

    <div class="registro mat-elevation-z8">
        <h1>Registro de usuarios</h1>
        
        <div class="form-registro">
            <h4>¿Qué clase de usuario desea registrar?</h4>
            <form style="margin-bottom: 1rem;">
                <input type="radio" value="Paciente" name="radio" [(ngModel)]="this.tipoUsuario" selected/> Paciente
                <input type="radio" value="Especialista" name="radio" [(ngModel)]="this.tipoUsuario" /> Especialista
            </form>

            <form [formGroup]="this.formPaciente" class="form-paciente" *ngIf="this.tipoUsuario == 'Paciente'" (ngSubmit)="this.RegistroPaciente()">
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="nombre-paciente" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nombre-paciente" placeholder="Ingrese el nombre del paciente" formControlName="nombre">
                        <div *ngIf="formPaciente.get('nombre')?.invalid && formPaciente.get('nombre')?.touched" class="text-danger">
                            El nombre es obligatorio y no debe exceder los 30 caracteres.
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <label for="apellido-paciente" class="form-label">Apellido</label>
                        <input type="text" class="form-control" id="apellido-paciente" placeholder="Ingrese el apellido del paciente" formControlName="apellido">
                        <div *ngIf="formPaciente.get('apellido')?.invalid && formPaciente.get('apellido')?.touched" class="text-danger">
                            El apellido es obligatorio y no debe exceder los 30 caracteres.
                        </div>
                    </div>
                </div>

                <div class="row g-3">
                    <div class="col-6">
                        <label for="documento" class="form-label">Documento</label>
                        <input type="text" class="form-control" id="documento" placeholder="Ingrese el documento del paciente" formControlName="dni">
                        <div *ngIf="formPaciente.get('dni')?.invalid && formPaciente.get('dni')?.touched" class="text-danger">
                            El documento es obligatorio y debe estar compuesto entre 6 y 8 caracteres.
                        </div>
                    </div>
                
                    <div class="col-6">
                        <label for="edad" class="form-label">Edad</label>
                        <input type="number" class="form-control" id="edad" placeholder="Ingrese la edad del paciente" formControlName="edad">
                        <div *ngIf="formPaciente.get('edad')?.invalid && formPaciente.get('edad')?.touched" class="text-danger">
                          La edad es es obligatoria y su valor debe ser inferior a los 99 años.
                      </div>
                    </div>
                </div>
    
                <div class="row g-3">
                    <div class="col">
                        <label>¿Tiene obra social?</label><br />
                            <input type="radio" formControlName="obraSocial" value="no" /> No
                            <input type="radio" formControlName="obraSocial" value="Osde" /> Osde
                            <input type="radio" formControlName="obraSocial" value="Swiss Medical" /> Swiss Medical
                            <input type="radio" formControlName="obraSocial" value="Sami Salud" /> Sami Salud
                            <input type="radio" formControlName="obraSocial" value="Ioma" /> Ioma
                            <input type="radio" formControlName="obraSocial" value="Osmecon" /> Osmecon
                        <div *ngIf="formPaciente.get('obraSocial')?.invalid && formPaciente.get('obraSocial')?.touched" class="text-danger">
                            Debe ingresar este campo.
                        </div>
                    </div>
                </div>
                
                <div class="row g-3">
                    <div class="col">
                        <label for="email" class="form-label">Correo electrónico</label>
                        <input type="email" class="form-control" id="email" placeholder="Ingrese su correo electrónico" formControlName="email">
                        <div *ngIf="formPaciente.get('email')?.invalid && formPaciente.get('email')?.touched" class="text-danger">
                            El correo electrónico es obligatorio.
                        </div>
                    </div>
                </div>
                
                <div class="row g-3">
                    <div class="col">
                        <label for="clave" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="clave" placeholder="Ingrese una contraseña" formControlName="clave">
                        <div *ngIf="formPaciente.get('clave')?.invalid && formPaciente.get('clave')?.touched" class="text-danger">
                          El correo electrónico es obligatorio.
                      </div>
                    </div>
                </div>
                    
                <div class="row g-3">
                    <div class="col-6">
                        <label for="imagen1" class="form-label">Imagen 1</label>
                        <input type="file" class="form-control" id="imagen1" placeholder="Ingrese una imagen" formControlName="imagen1">
                        <div *ngIf="formPaciente.get('imagen1')?.invalid && formPaciente.get('imagen1')?.touched" class="text-danger">
                          El ingreso de la imagen es obligatorio.
                      </div>
                    </div>
                    
                    <div class="col-6">
                        <label for="imagen2" class="form-label">Imagen 2</label>
                        <input type="file" class="form-control" id="imagen2" placeholder="Ingrese una imagen" formControlName="imagen2">
                        <div *ngIf="formPaciente.get('imagen2')?.invalid && formPaciente.get('imagen2')?.touched" class="text-danger">
                            El ingreso de la imagen es obligatorio.
                        </div>
                    </div>
                </div>
    
                <hr class="my-4">

                <button class="w-100 btn btn-primary btn-lg" type="submit" [disabled]="formPaciente.invalid">Registrarse como paciente.</button>
            </form>

            <form [formGroup]="this.formPaciente" class="form-especialista" *ngIf="this.tipoUsuario == 'Especialista'" (ngSubmit)="this.RegistroPaciente()">
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="nombre-paciente" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nombre-paciente" placeholder="Ingrese el nombre del paciente" formControlName="nombre">
                        <div *ngIf="formPaciente.get('nombre')?.invalid && formPaciente.get('nombre')?.touched" class="text-danger">
                            El nombre es obligatorio y no debe exceder los 30 caracteres.
                        </div>
                    </div>
                    
                    <div class="col-sm-6">
                        <label for="apellido-paciente" class="form-label">Apellido</label>
                        <input type="text" class="form-control" id="apellido-paciente" placeholder="Ingrese el apellido del paciente" formControlName="apellido">
                        <div *ngIf="formPaciente.get('apellido')?.invalid && formPaciente.get('apellido')?.touched" class="text-danger">
                            El apellido es obligatorio y no debe exceder los 30 caracteres.
                        </div>
                    </div>
                </div>

                <div class="row g-3">
                    <div class="col-6">
                        <label for="documento" class="form-label">Documento</label>
                        <input type="text" class="form-control" id="documento" placeholder="Ingrese el documento del paciente" formControlName="dni">
                        <div *ngIf="formPaciente.get('dni')?.invalid && formPaciente.get('dni')?.touched" class="text-danger">
                            El documento es obligatorio y debe estar compuesto entre 6 y 8 caracteres.
                        </div>
                    </div>
                
                    <div class="col-6">
                        <label for="edad" class="form-label">Edad</label>
                        <input type="number" class="form-control" id="edad" placeholder="Ingrese la edad del paciente" formControlName="edad">
                        <div *ngIf="formPaciente.get('edad')?.invalid && formPaciente.get('edad')?.touched" class="text-danger">
                          La edad es es obligatoria y su valor debe ser inferior a los 99 años.
                      </div>
                    </div>
                </div>
    
                <div class="row g-3">
                    <div class="col">
                        <label>¿Tiene obra social?</label><br />
                            <input type="radio" formControlName="obraSocial" value="no" /> No
                            <input type="radio" formControlName="obraSocial" value="Osde" /> Osde
                            <input type="radio" formControlName="obraSocial" value="Swiss Medical" /> Swiss Medical
                            <input type="radio" formControlName="obraSocial" value="Sami Salud" /> Sami Salud
                            <input type="radio" formControlName="obraSocial" value="Ioma" /> Ioma
                            <input type="radio" formControlName="obraSocial" value="Osmecon" /> Osmecon
                        <div *ngIf="formPaciente.get('obraSocial')?.invalid && formPaciente.get('obraSocial')?.touched" class="text-danger">
                            Debe ingresar este campo.
                        </div>
                    </div>
                </div>
                
                <div class="row g-3">
                    <div class="col">
                        <label for="email" class="form-label">Correo electrónico</label>
                        <input type="email" class="form-control" id="email" placeholder="Ingrese su correo electrónico" formControlName="email">
                        <div *ngIf="formPaciente.get('email')?.invalid && formPaciente.get('email')?.touched" class="text-danger">
                            El correo electrónico es obligatorio.
                        </div>
                    </div>
                </div>
                
                <div class="row g-3">
                    <div class="col">
                        <label for="clave" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="clave" placeholder="Ingrese una contraseña" formControlName="clave">
                        <div *ngIf="formPaciente.get('clave')?.invalid && formPaciente.get('clave')?.touched" class="text-danger">
                          El correo electrónico es obligatorio.
                      </div>
                    </div>
                </div>
                    
                <div class="row g-3">
                    <div class="col-6">
                        <label for="imagen1" class="form-label">Imagen 1</label>
                        <input type="file" class="form-control" id="imagen1" placeholder="Ingrese una imagen" formControlName="imagen1">
                        <div *ngIf="formPaciente.get('imagen1')?.invalid && formPaciente.get('imagen1')?.touched" class="text-danger">
                          El ingreso de la imagen es obligatorio.
                      </div>
                    </div>
                    
                    <div class="col-6">
                        <label for="imagen2" class="form-label">Imagen 2</label>
                        <input type="file" class="form-control" id="imagen2" placeholder="Ingrese una imagen" formControlName="imagen2">
                        <div *ngIf="formPaciente.get('imagen2')?.invalid && formPaciente.get('imagen2')?.touched" class="text-danger">
                            El ingreso de la imagen es obligatorio.
                        </div>
                    </div>
                </div>
    
                <hr class="my-4">

                <button class="w-100 btn btn-primary btn-lg" type="submit" [disabled]="formPaciente.invalid">Registrarse como paciente.</button>
            </form>
        </div>
    </div>
</div>